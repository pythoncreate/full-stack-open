(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),c=t.n(r),o=t(13),u=t.n(o),l=function(e){var n=e.filter,t=e.onChange;return c.a.createElement("div",{className:"col m-3 pt-2"},"Filter Shown with ",c.a.createElement("input",{onChange:t,value:n}))},i=function(e){var n=e.onSubmit,t=e.name,a=e.number;return c.a.createElement("div",{className:"col m-3"},c.a.createElement("div",null,c.a.createElement("h5",{className:"pb-3"},"Add a Number To The Phonebook")),c.a.createElement("div",null,c.a.createElement("form",{onSubmit:n},c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:t.value,onChange:t.onChange})),c.a.createElement("p",null),c.a.createElement("div",null,"number: ",c.a.createElement("input",{value:a.value,onChange:a.onChange})),c.a.createElement("p",null),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add")))))},m=function(e){var n=e.persons;return c.a.createElement("div",{className:"col m-3"},c.a.createElement("div",null,c.a.createElement("h5",{className:"pb-3"},"Phone Numbers")),c.a.createElement("div",null,n))},s=function(e){var n=e.notification,t=e.success;return null===n?null:t?c.a.createElement("div",{className:"success"},n):c.a.createElement("div",{className:"error"},n)},d=(t(19),t(3)),f=t.n(d),b="/api/persons",v=function(){return f.a.get(b).then((function(e){return e.data}))},h=function(e){return f.a.post(b,e).then((function(e){return e.data}))},E=function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){return f.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))};u.a.render(c.a.createElement((function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],o=n[1],u=Object(r.useState)(""),d=Object(a.a)(u,2),f=d[0],b=d[1],w=Object(r.useState)(""),g=Object(a.a)(w,2),C=g[0],N=g[1],S=Object(r.useState)(null),j=Object(a.a)(S,2),k=j[0],O=j[1],y=Object(r.useState)(null),L=Object(a.a)(y,2),P=L[0],T=L[1],D=Object(r.useState)(""),F=Object(a.a)(D,2),J=F[0],U=F[1];Object(r.useEffect)((function(){v().then((function(e){return o(e)}))}),[]),console.log("Persons",t);var x=""===J?t:t.filter((function(e){return e.name.toLowerCase().includes(J.toLowerCase())})),A=function(e){var n=e.target.value;window.confirm("Do you really want to delete?")&&p(n).then((function(){var e=t.filter((function(e){return e.id!=n}));console.log("Check",e),o(e)})).catch((function(e){O("Sorry that user was already deleted from the phonebook",!1),o(t.filter((function(e){return e.id!=n})))}))},B=function(){b(""),N("")},H=function(e){h(e).then((function(e){o(t.concat(e)),I("Success! User ".concat(f," was added")),B()})).catch((function(e){I("Sorry can't add that number. Here's why:\n            ".concat(e.response.data.error),!1)}))},I=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];O(e),T(n),setTimeout((function(){O(null),T(null)}),3e3)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},c.a.createElement("a",{className:"navbar-brand sticky-top",href:"#"},c.a.createElement("h2",null,"Phonebook"))),c.a.createElement(s,{notification:k,success:P}),c.a.createElement("div",{className:"row mb-2"},c.a.createElement(l,{value:J,onChange:function(e){U(e.target.value)}})),c.a.createElement("div",{className:"row mb-2"},c.a.createElement(i,{onSubmit:function(e){e.preventDefault();var n={name:f,number:C};t.some((function(e){return e.name.toLowerCase()===f.toLowerCase()}))?window.confirm("".concat(f," is allready in the phonebok. Would you like to replace the old number with a new one?"))&&function(e,n){E(e,n).then((function(n){I("Success! User ".concat(f," was updated")),o(t.map((function(t){return t.id!==e?t:n}))),B()}))}(t.find((function(e){return e.name.toLowerCase()===f.toLowerCase()})).id,n):H(n)},name:{value:f,onChange:function(e){b(e.target.value)}},number:{value:C,onChange:function(e){N(e.target.value)}}})),c.a.createElement("div",{className:"row mb-2"},c.a.createElement(m,{persons:x.map((function(e){return c.a.createElement("p",{className:"number",key:e.name},e.name," ",e.number," ",c.a.createElement("span",null,c.a.createElement("button",{value:e.id,onClick:A},"delete")))}))})))}),null),document.getElementById("container"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b330625d.chunk.js.map